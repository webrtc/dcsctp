[workspace]
members = [
    ".",
    "fuzz",
]

[package]
name = "dcsctp"
description = "An SCTP implementation for WebRTC Data Channels"
version = "0.1.3"
edition = "2021"
license = "Apache-2.0"
repository = "https://github.com/webrtc/dcsctp"
keywords = ["webrtc", "sctp"]
categories = ["network-programming"]

[dependencies]
anyhow = "1.0.100"
crc-any = "2.5.0"
log = "0.4.29"
rand = "0.9.2"
thiserror = "2.0.17"
cxx = { version = "1.0", optional = true }

[build-dependencies]
cxx-build = { version = "1.0", optional = true }

[lib]
crate-type = ["lib", "staticlib"]

[dev-dependencies]
itertools = "0.14.0"

[features]
fuzz-internals = []
cxx = ["dep:cxx", "dep:cxx-build"]

[lints.rust]
unexpected_cfgs = { level = "warn", check-cfg = ['cfg(fuzzing)', 'cfg(feature, values("cxx", "fuzz-internals"))'] }
